-- ایندکس برای جستجوی سریع روی کدها
CREATE INDEX IX_Students_StudentCode ON Students(StudentCode);
CREATE INDEX IX_Professors_ProfessorCode ON Professors(ProfessorCode);
CREATE INDEX IX_Courses_CourseCode ON Courses(CourseCode);

-- View: نمایش اطلاعات عرضه‌ها همراه با نام درس و نام استاد و ظرفیت/تعداد ثبت‌نام
CREATE VIEW vw_Offerings_Details AS
SELECT o.OfferingID, c.CourseCode, c.CourseName, t.TermCode, p.ProfessorCode, p.Name AS ProfessorName,
       o.Capacity, o.EnrolledCount
FROM CourseOfferings o
JOIN Courses c ON o.CourseID = c.CourseID
JOIN Terms t ON o.TermID = t.TermID
JOIN Professors p ON o.ProfessorID = p.ProfessorID;
GO
